(function(t){function e(e){for(var a,n,o=e[0],l=e[1],u=e[2],c=0,d=[];c<o.length;c++)n=o[c],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);h&&h(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,n=1;n<r.length;n++){var o=r[n];0!==i[o]&&(a=!1)}a&&(s.splice(e--,1),t=l(l.s=r[0]))}return t}var a={},n={app:0},i={app:0},s=[];function o(t){return l.p+"js/"+({Data:"Data",Map:"Map"}[t]||t)+"."+{Data:"76a46be3",Map:"95339913"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(t){var e=[],r={Data:1,Map:1};n[t]?e.push(n[t]):0!==n[t]&&r[t]&&e.push(n[t]=new Promise((function(e,r){for(var a="css/"+({Data:"Data",Map:"Map"}[t]||t)+"."+{Data:"5a246d0c",Map:"95781e3f"}[t]+".css",i=l.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===a||c===i))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],c=u.getAttribute("data-href");if(c===a||c===i)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete n[t],h.parentNode.removeChild(h),r(s)},h.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){n[t]=0})));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,r){a=i[t]=[e,r]}));e.push(a[2]=s);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=o(t);var d=new Error;u=function(e){c.onerror=c.onload=null,clearTimeout(h);var r=i[t];if(0!==r){if(r){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,r[1](d)}i[t]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,r){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(r,a,function(e){return t[e]}.bind(null,a));return r},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/flight-emissions/",l.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var h=c;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"18ad":function(t,e,r){},"18ca":function(t,e,r){"use strict";var a=r("3b0b"),n=r.n(a);n.a},"31a2":function(t,e,r){"use strict";var a=r("18ad"),n=r.n(a);n.a},"3b0b":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("nav-bar",{attrs:{pages:t.routes}}),r("div",{attrs:{id:"main"}},[t._m(0),r("router-view",{attrs:{items:t.flights,limits:t.quartiles}})],1),t._m(1)],1)},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"seasonal"},[r("div",{staticClass:"holder"},[r("h1",[t._v("Leeds Bradford Flight Emissions")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"b1-bg"},[r("div",{staticClass:"holder"},[r("ul",[r("li",[r("strong",[t._v("© Patrick Lake, ODI Leeds 2019")])]),r("li",[t._v(" Flight Data - "),r("a",{attrs:{href:"https://www.leedsbradfordairport.co.uk/"}},[t._v("Leeds Bradford Airport")]),t._v(" & "),r("a",{attrs:{href:"https://uk.flightaware.com/"}},[t._v("FlightAware API")])]),r("li",[t._v(" Airport Data - "),r("a",{attrs:{href:"https://openflights.org"}},[t._v("OpenFlights")])]),r("li",[t._v(' Comparisons based on figures from the book "How bad are Bananas?" - © Mike Berners-Lee ')])])])])}],s=(r("a4d3"),r("e01a"),r("d28b"),r("4e82"),r("accc"),r("0d03"),r("d3b7"),r("3ca3"),r("ddb0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("input",{staticClass:"hamburger",attrs:{type:"checkbox",id:"hamburger"}}),t._m(0),r("header",{staticClass:"b1-bg"},[t._m(1),r("div",{staticClass:"holder"},[r("nav",[r("ul",t._l(t.pages,(function(e){return r("li",{key:e.name},[r("router-link",{attrs:{to:e.path,"exact-active-class":"seasonal"}},[t._v(" "+t._s(e.name)+" ")])],1)})),0)])])])])}),o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{staticClass:"hamburger",attrs:{for:"hamburger"}},[r("span",{staticClass:"nv"},[t._v("Toggle menu (if not visible)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"glory b1-bg"},[a("div",{staticClass:"glory-image"}),a("div",{staticClass:"glory-opacity"},[a("div",{staticClass:"holder"},[a("a",{attrs:{href:"https://odileeds.org"}},[a("img",{attrs:{alt:"ODI Leeds",src:r("df73")}})])])])])}],l={props:["pages"]},u=l,c=r("2877"),d=Object(c["a"])(u,s,o,!1,null,null,null),h=d.exports,f=r("bc3a").default,m={components:{NavBar:h},props:{source:String},data:function(){return{date:new Date,dataUrl:null,flights:[],errorMessage:null}},computed:{routes:function(){return this.$router.options.routes},quartiles:function(){var t=[],e=!0,r=!1,a=void 0;try{for(var n,i=this.flights[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var s=n.value;t.push(s["Emissions"])}}catch(u){r=!0,a=u}finally{try{e||null==i.return||i.return()}finally{if(r)throw a}}t.sort((function(t,e){return t-e}));var o=this.percentile(t,.33),l=this.percentile(t,.75);return[o,l]}},methods:{percentile:function(t,e){if(0===t.length)return 0;if("number"!==typeof e)throw new TypeError("p must be a number");if(e<=0)return t[0];if(e>=1)return t[t.length-1];var r=t.length*e,a=Math.floor(r),n=a+1,i=r%1;return n>=t.length?t[a]:t[a]*(1-i)+t[n]*i}},mounted:function(){var t=this,e=this.date.toISOString().substring(0,10);this.dataUrl="https://cdn.jsdelivr.net/gh/patricklake2/flight-emissions@master/leeds-bradford/data/"+e+".json",f.get(this.dataUrl).then((function(e){t.date=e.data["Date"],t.flights=e.data["Flights"]})).catch((function(){t.errorMessage="Retrieval of flight data failed. Try refreshing the page."}))}},p=m,v=Object(c["a"])(p,n,i,!1,null,null,null),g=v.exports,b=r("8c4f"),y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"holder"},[t._m(0),r("ul",{staticClass:"grid"},[r("li",{staticClass:"threecol"},[r("a",{staticClass:"c12-bg"},[r("h1",[r("animated-number",{attrs:{value:t.totalEmissions,duration:1e3}})],1),t._m(1)])]),r("li",[r("a",{staticClass:"c14-bg"},[r("h1",[r("animated-number",{attrs:{value:t.numberFlights,duration:400}})],1),r("p",[t._v("departures today")])])]),r("li",[r("a",{staticClass:"c1-bg"},[r("h1",[r("animated-number",{attrs:{value:t.uniqueDests,duration:300}})],1),r("p",[t._v("unique destinations")])])]),r("li",[r("a",{staticClass:"c6-bg"},[r("h1",[r("animated-number",{attrs:{value:t.distanceTravelled,duration:1e3}})],1),r("p",[t._v("km travelled")])])])]),r("h2",[t._v("That's about the same as...")]),r("slider",{attrs:{items:t.carouselItems}})],1)},_=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v(" This is a simple tool to demonstrate the impact Leeds' Bradford Airport has on the environment, since international flights are not included in local or national carbon budgets (even though they account for roughly 95% of total aviation emissions). It's fairly simple; it just takes all the daily departures from Leeds Bradford, and shows you how much CO"),r("sub",[t._v("2")]),t._v(" emissions each flight produces, along with a daily total. ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("kg of CO"),r("sub",[t._v("2")]),t._v(" Emissions from today's departures")])}],w=(r("caad"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[t._v(t._s(t.tweeningValue))])}),C=[],k=(r("a9e3"),r("22b5")),E={name:"animated-number",props:{value:{type:Number,required:!0},duration:{type:Number,default:500}},data:function(){return{tweeningValue:null}},watch:{value:function(t,e){this.tween(e,t)}},beforeMount:function(){this.tweeningValue=0},mounted:function(){this.tween(0,this.value)},methods:{tween:function(t,e){var r=this;function a(){k["a"].update()&&requestAnimationFrame(a)}new k["a"].Tween({tweeningValue:t}).to({tweeningValue:e},r.duration).onUpdate((function(t){r.tweeningValue=Math.round(t.tweeningValue).toLocaleString()})).start(),a()}}},x=E,A=Object(c["a"])(x,w,C,!1,null,null,null),O=A.exports,P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"slider"},[t._m(0),r("ul",{staticClass:"my-slider"},t._l(t.items,(function(e){return r("li",{key:e.caption,class:e.color},[r("div",[r("h3",[t._v(t._s(e.value.toLocaleString()))]),r("p",[t._v(t._s(e.caption))])])])})),0)])},D=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"controls",attrs:{id:"customize-controls"}},[r("li",[t._v("‹")]),r("li",[t._v("›")])])}],I=r("2feb"),T=(r("274f"),{props:["items"],mounted:function(){Object(I["a"])({container:".my-slider",items:1,slideBy:"page",autoplay:!0,autoplayText:["▶","❚❚"],nav:!0,controlsContainer:"#customize-controls"})}}),j=T,L=(r("31a2"),Object(c["a"])(j,P,D,!1,null,"e891a51e",null)),M=L.exports,S={name:"home",components:{AnimatedNumber:O,Slider:M},props:{items:{type:Array,required:!0}},data:function(){return{emissionComparisons:[{emissionsPerItem:1e4,text:"people's annual carbon footprint",color:"c9-bg"},{emissionsPerItem:.071,text:"cups of tea (with milk)",color:"c14-bg"},{emissionsPerItem:.021,text:"cups of tea (without milk)",color:"c6-bg"},{emissionsPerItem:1.4,text:"miles by bus",color:"c1-bg"},{emissionsPerItem:.3,text:"pints of local beer",color:"c12-bg"},{emissionsPerItem:1.7,text:"15 minute showers",color:"c8-bg"},{emissionsPerItem:4.4,text:"miles driving in heavy congestion",color:"c13-bg"},{emissionsPerItem:2.4,text:"washing machine & tumble dry cycles",color:"c4-bg"}]}},computed:{totalEmissions:function(){return this.sumFlightsProp("Emissions")},numberFlights:function(){return this.items.length},distanceTravelled:function(){return this.sumFlightsProp("Distance")},uniqueDests:function(){var t=[],e=!0,r=!1,a=void 0;try{for(var n,i=this.items[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var s=n.value;t.includes(s["IATA"])||t.push(s["IATA"])}}catch(o){r=!0,a=o}finally{try{e||null==i.return||i.return()}finally{if(r)throw a}}return t.length},carouselItems:function(){var t=[],e=!0,r=!1,a=void 0;try{for(var n,i=this.emissionComparisons[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var s=n.value,o=Math.round(this.totalEmissions/s.emissionsPerItem);t.push({value:o,caption:s.text,color:s.color})}}catch(l){r=!0,a=l}finally{try{e||null==i.return||i.return()}finally{if(r)throw a}}return t}},methods:{sumFlightsProp:function(t){var e=0,r=!0,a=!1,n=void 0;try{for(var i,s=this.items[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;e+=o[t]}}catch(l){a=!0,n=l}finally{try{r||null==s.return||s.return()}finally{if(a)throw n}}return e}}},F=S,$=(r("18ca"),Object(c["a"])(F,y,_,!1,null,"4577c12c",null)),B=$.exports,q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},N=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"holder"},[r("h2",[t._v("About")]),r("p",[t._v(" I built this tool to demonstrate the impact Leeds' Bradford Airport has on the environment, since international flights are not included in local or national carbon budgets (even though they account for roughly 95% of total aviation emissions). It's fairly simple; it just takes all the daily departures from Leeds Bradford, and shows you how much CO2 emissions each flight produces, along with a daily total. ")]),r("h3",[t._v("Data")]),r("p",[t._v(" Departures data is taken directly from Leeds Bradford Airport's website. The distance can then be calculated by using the latitude & longitude of the destination airport (using data from "),r("a",{attrs:{href:"https://openflights.org/data.html"}},[t._v("OpenFlights.org")]),t._v("). "),r("a",{attrs:{href:"https://flightaware.com"}},[t._v("FlightAware")]),t._v("'s API is used to search for the aircraft model used for each flight. The emissions factor for that aircraft, given in "),r("a",{attrs:{href:"https://www.gov.uk/government/publications/greenhouse-gas-reporting-conversion-factors-2019"}},[t._v(" DEFRA's 2019 GHG Conversion Factors ")]),t._v(", is then multiplied by the distance to give an estimate for emissions. "),r("br"),t._v("All of this processing is done by a Python script which runs at midnight, processing that day's flights. ")]),r("h3",[t._v("Things I'm working on")]),r("ul",[r("li",[t._v(" Adding a date picker, and the ability to compare days - at the moment the website only shows the current day's data ")]),r("li",[t._v(" Adding more airports. Manchester Airport will be next (very shortly!) ")]),r("li",[t._v(" Looking for a way to determine the aircraft model for each flight "),r("strong",[t._v("without")]),t._v(" using FlightAware, as this is not open data. ")])]),r("p",[t._v(" Feedback, comments, ideas and contributions are all welcomed - all the code is on "),r("a",{attrs:{href:"https://github.com/patricklake2/leeds-flight-emissions"}},[t._v("GitHub")]),t._v(". You can also "),r("a",{attrs:{href:"https://twitter.com/PatrickTLake"}},[t._v("tweet me.")])])])}],V={name:"about"},H=V,U=Object(c["a"])(H,q,N,!1,null,null,null),G=U.exports;a["a"].use(b["a"]);var z=[{path:"/",name:"Home",component:B},{path:"/map",name:"Map",component:function(){return r.e("Map").then(r.bind(null,"c94a"))}},{path:"/data",name:"Data",component:function(){return r.e("Data").then(r.bind(null,"27e1"))}},{path:"/about",name:"About",component:G},{path:"/odi",beforeEnter:function(){location.href="https://odileeds.org"},name:"ODI Leeds"}],J=new b["a"]({routes:z}),R=J,K=r("f309");a["a"].use(K["a"]);var Y=new K["a"]({});a["a"].config.productionTip=!1,new a["a"]({router:R,vuetify:Y,render:function(t){return t(g)}}).$mount("#app")},df73:function(t,e,r){t.exports=r.p+"img/odileeds.e3d34e56.svg"}});
//# sourceMappingURL=app.114377b4.js.map